---
title: 我們管理提取要求的方式
description: 此文章說明 PowerShell-Docs 小組管理提取要求的方式。
ms.date: 03/05/2020
ms.topic: conceptual
ms.openlocfilehash: af5280e91aa3744b6172dc3555df6989cb0ce1a2
ms.sourcegitcommit: b0488ca6557501184f20c8343b0ed5147b09e3fe
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/09/2020
ms.locfileid: "86158168"
---
# <a name="managing-pull-requests"></a>管理提取要求

本文會記錄如何管理 PowerShell-Docs 存放庫中的提取要求。 此文章是設計來輔助 PowerShell-Docs 小組成員的工作之用。 在此發佈的原因，是為了向我們的公共參與者提供流程上的透明度。

## <a name="best-practices"></a>最佳作法

- 提交 PR 的人員不應該在沒有進行同儕審查的情況下合併該 PR。
- 在提交 PR 時指派同儕審查者。 早期指派能讓審查者透過編輯備註儘早回應。
- 使用留言來描述變更的本質，或是所要求的審查類型。 請務必對審查者進行 @mention。 例如，如果變更為微幅性質，且您不需要完整的技術審查，請在留言中說明此情況。

## <a name="pr-process-steps"></a>PR 程序步驟

1. 作者：建立 PR
   - 連結由 PR 所解決的任何問題
   - 使用 GitHub 的[自動關閉](https://help.github.com/en/articles/closing-issues-using-keywords) \(英文\) 功能來關閉問題
1. 作者：指派同儕審查者
1. 審查者：校對及留言 (視需要)
1. 作者：納入審查意見反應
1. Both (兩者)：審查預覽呈現
1. Both (兩者)：審查驗證報告，修正警告與錯誤
1. 作者：加入結案留言 (包括 Acrolinx 資訊)
1. 審查者：將審查標示為「已核准」
1. 存放庫管理員：合併 PR (請參閱下文以取得準則)

## <a name="content-reviewer-checklist"></a>內容審查者檢查清單

請參閱[編輯檢查清單](editorial-checklist.md)以取得更完整的清單。

- 針對文法、樣式、簡潔、技術準確度進行校對
- 確保範例仍適用於目標版本
- 檢查預覽呈現
- 檢查中繼資料：ms.date、移除 ms.assetid、確定必要欄位
- 驗證 Markdown 正確性
  - 參閱樣式指南以取得格式特定內容
- 依下列項目重新組織範例：
  - 簡介文句
  - 程式碼與輸出
  - 程式碼的詳細說明 (視需要)
- 檢查超連結的正確性
  - 取代或移除 TechNet/MSDN 連結
  - 確定連到目標的重新導向數目為最低
  - 確定 HTTPS
  - 修正連結類型
    - 針對本機檔案使用檔案連結
    - 針對位於 DocSet 外部的檔案使用 URL 連結
  - 從 URL 移除地區設定
  - 簡化指向 `docs.microsoft.com` 的 URL

## <a name="branch-merge-process"></a>分支合併程序

暫存分支是唯一應該合併到作用中分支的分支。 應該要壓縮從短期 (Working) 分支進行的合併。

| 合併來源/目標   | *release-branch* | *staging*        | *live*      |
| ---------------- |:----------------:|:----------------:|:-----------:|
| *working-branch* | 壓縮並合併 | 壓縮並合併 | 不允許 |
| *release-branch* | &mdash;          | merge            | 不允許 |
| *staging*        | 重訂基底           | &mdash;          | merge       |

### <a name="pr-merger-checklist"></a>PR 合併檢查清單

- 內容審查完成
- 針對變更的正確目標分支
- 沒有合併衝突
- 通過所有驗證及建置步驟
  - 應該修正警告與建議 (請參閱[注意](#notes)以取得例外)
  - 沒有任何中斷的連結
- 根據表格進行合併

### <a name="notes"></a>注意

可以忽略下列警告：

```
Can't find service name for `<version>/<modulepath>/About/About.md`
```

```
Metadata with following name(s) are not allowed to be set in Yaml header, or as file level
metadata in docfx.json, or as global metadata in docfx.json: `locale`. They are generated by
Docs platform, so the values set in these 3 places will be ignored. Please remove them from all
3 places to resolve the warning.
```

合併 PR 時，會變更目標分支的「標頭」。 任何以先前的「標頭」為基礎的未結 PR 現在都已過時。 可以使用系統管理員權限來覆寫 GitHub 中的合併警告，來合併過時的 PR。 如果先前的已合併 PR 未觸及相同的檔案，這是個安全的做法。 不過，按一下 [Update Branch]  \(更新分支\) 按鈕是最安全的做法。 您可能會有需要修正的未解決衝突。

## <a name="publishing-to-live"></a>發佈到即時網站

在 `staging` 分支中累積的變更，需要定期發佈到即時網站。 這需要將 `staging` 分支合併到 `live` 分支。

- `staging` 分支至少應該要每週合併到 `live` 一次。
- 在做出任何重大變更之後，`staging` 分支應該要合併到 `live`。
  - 對 50 個或更多的檔案進行變更
  - 在合併發行分支之後
  - 對存放庫或 DocSet 設定 (docfx.json、OPS 設定、建置指令碼等) 進行變更
  - 對重新導向檔案進行變更
  - 對目錄進行變更
  - 在合併「專案」分支 (內容重新整理、大量更新等) 之後
